{"version":3,"sources":["lazyload.js","main.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_typeof","Symbol","iterator","obj","constructor","global","factory","exports","module","define","amd","LazyLoad","this","getTopOffset","element","getBoundingClientRect","top","window","pageYOffset","ownerDocument","documentElement","clientTop","isBelowViewport","container","threshold","innerHeight","offsetHeight","getLeftOffset","left","pageXOffset","clientLeft","isAtRightOfViewport","documentWidth","innerWidth","isAboveViewport","isAtLeftOfViewport","offsetWidth","isInsideViewport","createInstance","classObj","options","event","instance","CustomEvent","detail","err","document","createEvent","initCustomEvent","dispatchEvent","canvas","replaceExtToWebp","value","condition","replace","runningOnBrowser","isBot","test","navigator","userAgent","supportsClassList","createElement","supportsWebp","getContext","toDataURL","indexOf","addClass","className","classList","add","getData","attribute","getAttribute","setWasProcessedData","attrName","setAttribute","removeAttribute","setData","getWasProcessedData","setSourcesInChildren","parentTag","dataAttrName","toWebpFlag","childTag","children","tagName","attrValue","setAttributeIfValue","setSourcesFunctions","IMG","settings","to_webp","srcsetDataName","data_srcset","parent","parentNode","sizesDataValue","data_sizes","srcsetDataValue","srcDataValue","data_src","IFRAME","VIDEO","srcDataName","load","setSources","setSourcesFunction","setValue","style","backgroundImage","setSourcesBgImage","callbackIfSet","callback","argument","addEventListener","eventName","handler","removeEventListener","removeAllEventListeners","loadHandler","errorHandler","eventHandler","success","class_loaded","class_error","callback_load","callback_error","remove","RegExp","removeClass","class_loading","addOneShotEventListeners","addAllEventListeners","managedTags","removeFromArray","elements","indexes","splice","pop","instanceSettings","_settings","elements_selector","throttle","class_initial","skip_invisible","callback_set","callback_processed","callback_enter","_queryOriginNode","_previousLoopTime","_loopTimeout","_boundHandleScroll","handleScroll","bind","_isFirstLoop","update","_loopThroughElements","forceDownload","_elements","elementsLength","processedIndexes","isFirstLoop","offsetParent","push","_stopScrollHandler","_purgeElements","_startScrollHandler","_isHandlingScroll","now","Date","remainingTime","clearTimeout","setTimeout","loadAll","Array","slice","querySelectorAll","destroy","force","revealElement","optionsItem","autoInitialize","lazyLoadOptions","workTitles","workContent","index","item","collection","forEach","el","e","preventDefault","newIndex","workTitleItem","workContentItem"],"mappings":"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","file":"scripts.min.js","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n\t(typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.LazyLoad = factory();\n})(this, function () {\n\t'use strict';\n\n\tvar getDefaultSettings = function getDefaultSettings() {\n\t\treturn {\n\t\t\telements_selector: \"img\",\n\t\t\tcontainer: window,\n\t\t\tthreshold: 300,\n\t\t\tthrottle: 150,\n\t\t\tdata_src: \"src\",\n\t\t\tdata_srcset: \"srcset\",\n\t\t\tdata_sizes: \"sizes\",\n\t\t\tclass_loading: \"loading\",\n\t\t\tclass_loaded: \"loaded\",\n\t\t\tclass_error: \"error\",\n\t\t\tclass_initial: \"initial\",\n\t\t\tskip_invisible: true,\n\t\t\tcallback_load: null,\n\t\t\tcallback_error: null,\n\t\t\tcallback_set: null,\n\t\t\tcallback_processed: null,\n\t\t\tcallback_enter: null,\n\t\t\tto_webp: false\n\t\t};\n\t};\n\n\tvar getTopOffset = function getTopOffset(element) {\n\t\treturn element.getBoundingClientRect().top + window.pageYOffset - element.ownerDocument.documentElement.clientTop;\n\t};\n\n\tvar isBelowViewport = function isBelowViewport(element, container, threshold) {\n\t\tvar fold = container === window ? window.innerHeight + window.pageYOffset : getTopOffset(container) + container.offsetHeight;\n\t\treturn fold <= getTopOffset(element) - threshold;\n\t};\n\n\tvar getLeftOffset = function getLeftOffset(element) {\n\t\treturn element.getBoundingClientRect().left + window.pageXOffset - element.ownerDocument.documentElement.clientLeft;\n\t};\n\n\tvar isAtRightOfViewport = function isAtRightOfViewport(element, container, threshold) {\n\t\tvar documentWidth = window.innerWidth;\n\t\tvar fold = container === window ? documentWidth + window.pageXOffset : getLeftOffset(container) + documentWidth;\n\t\treturn fold <= getLeftOffset(element) - threshold;\n\t};\n\n\tvar isAboveViewport = function isAboveViewport(element, container, threshold) {\n\t\tvar fold = container === window ? window.pageYOffset : getTopOffset(container);\n\t\treturn fold >= getTopOffset(element) + threshold + element.offsetHeight;\n\t};\n\n\tvar isAtLeftOfViewport = function isAtLeftOfViewport(element, container, threshold) {\n\t\tvar fold = container === window ? window.pageXOffset : getLeftOffset(container);\n\t\treturn fold >= getLeftOffset(element) + threshold + element.offsetWidth;\n\t};\n\n\tfunction isInsideViewport(element, container, threshold) {\n\t\treturn !isBelowViewport(element, container, threshold) && !isAboveViewport(element, container, threshold) && !isAtRightOfViewport(element, container, threshold) && !isAtLeftOfViewport(element, container, threshold);\n\t}\n\n\t/* Creates instance and notifies it through the window element */\n\tvar createInstance = function createInstance(classObj, options) {\n\t\tvar event;\n\t\tvar eventString = \"LazyLoad::Initialized\";\n\t\tvar instance = new classObj(options);\n\t\ttry {\n\t\t\t// Works in modern browsers\n\t\t\tevent = new CustomEvent(eventString, { detail: { instance: instance } });\n\t\t} catch (err) {\n\t\t\t// Works in Internet Explorer (all versions)\n\t\t\tevent = document.createEvent(\"CustomEvent\");\n\t\t\tevent.initCustomEvent(eventString, false, false, { instance: instance });\n\t\t}\n\t\twindow.dispatchEvent(event);\n\t};\n\n\t/* Auto initialization of one or more instances of lazyload, depending on the \n     options passed in (plain object or an array) */\n\tfunction autoInitialize(classObj, options) {\n\t\tif (!options) {\n\t\t\treturn;\n\t\t}\n\t\tif (!options.length) {\n\t\t\t// Plain object\n\t\t\tcreateInstance(classObj, options);\n\t\t} else {\n\t\t\t// Array of objects\n\t\t\tfor (var i = 0, optionsItem; optionsItem = options[i]; i += 1) {\n\t\t\t\tcreateInstance(classObj, optionsItem);\n\t\t\t}\n\t\t}\n\t}\n\n\tvar replaceExtToWebp = function replaceExtToWebp(value, condition) {\n\t\treturn condition ? value.replace(/\\.(jpe?g|png)/gi, \".webp\") : value;\n\t};\n\n\tvar detectWebp = function detectWebp() {\n\t\tvar webpString = \"image/webp\";\n\t\tvar canvas = document.createElement(\"canvas\");\n\n\t\tif (canvas.getContext && canvas.getContext(\"2d\")) {\n\t\t\treturn canvas.toDataURL(webpString).indexOf('data:' + webpString) === 0;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tvar runningOnBrowser = typeof window !== \"undefined\";\n\n\tvar isBot = runningOnBrowser && !(\"onscroll\" in window) || /(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent);\n\tvar supportsClassList = runningOnBrowser && \"classList\" in document.createElement(\"p\");\n\n\tvar supportsWebp = runningOnBrowser && detectWebp();\n\n\tvar addClass = function addClass(element, className) {\n\t\tif (supportsClassList) {\n\t\t\telement.classList.add(className);\n\t\t\treturn;\n\t\t}\n\t\telement.className += (element.className ? \" \" : \"\") + className;\n\t};\n\n\tvar removeClass = function removeClass(element, className) {\n\t\tif (supportsClassList) {\n\t\t\telement.classList.remove(className);\n\t\t\treturn;\n\t\t}\n\t\telement.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n\t};\n\n\tvar dataPrefix = \"data-\";\n\tvar processedDataName = \"was-processed\";\n\tvar processedDataValue = \"true\";\n\n\tvar getData = function getData(element, attribute) {\n\t\treturn element.getAttribute(dataPrefix + attribute);\n\t};\n\n\tvar setData = function setData(element, attribute, value) {\n\t\tvar attrName = dataPrefix + attribute;\n\t\tif (value === null) {\n\t\t\telement.removeAttribute(attrName);\n\t\t\treturn;\n\t\t}\n\t\telement.setAttribute(attrName, value);\n\t};\n\n\tvar setWasProcessedData = function setWasProcessedData(element) {\n\t\treturn setData(element, processedDataName, processedDataValue);\n\t};\n\n\tvar getWasProcessedData = function getWasProcessedData(element) {\n\t\treturn getData(element, processedDataName) === processedDataValue;\n\t};\n\n\tvar setSourcesInChildren = function setSourcesInChildren(parentTag, attrName, dataAttrName, toWebpFlag) {\n\t\tfor (var i = 0, childTag; childTag = parentTag.children[i]; i += 1) {\n\t\t\tif (childTag.tagName === \"SOURCE\") {\n\t\t\t\tvar attrValue = getData(childTag, dataAttrName);\n\t\t\t\tsetAttributeIfValue(childTag, attrName, attrValue, toWebpFlag);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar setAttributeIfValue = function setAttributeIfValue(element, attrName, value, toWebpFlag) {\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\t\telement.setAttribute(attrName, replaceExtToWebp(value, toWebpFlag));\n\t};\n\n\tvar setSourcesImg = function setSourcesImg(element, settings) {\n\t\tvar toWebpFlag = supportsWebp && settings.to_webp;\n\t\tvar srcsetDataName = settings.data_srcset;\n\t\tvar parent = element.parentNode;\n\n\t\tif (parent && parent.tagName === \"PICTURE\") {\n\t\t\tsetSourcesInChildren(parent, \"srcset\", srcsetDataName, toWebpFlag);\n\t\t}\n\t\tvar sizesDataValue = getData(element, settings.data_sizes);\n\t\tsetAttributeIfValue(element, \"sizes\", sizesDataValue);\n\t\tvar srcsetDataValue = getData(element, srcsetDataName);\n\t\tsetAttributeIfValue(element, \"srcset\", srcsetDataValue, toWebpFlag);\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue, toWebpFlag);\n\t};\n\n\tvar setSourcesIframe = function setSourcesIframe(element, settings) {\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue);\n\t};\n\n\tvar setSourcesVideo = function setSourcesVideo(element, settings) {\n\t\tvar srcDataName = settings.data_src;\n\t\tvar srcDataValue = getData(element, srcDataName);\n\n\t\tsetSourcesInChildren(element, \"src\", srcDataName);\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue);\n\t\telement.load();\n\t};\n\n\tvar setSourcesBgImage = function setSourcesBgImage(element, settings) {\n\t\tvar toWebpFlag = supportsWebp && settings.to_webp;\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\n\t\tif (srcDataValue) {\n\t\t\tvar setValue = replaceExtToWebp(srcDataValue, toWebpFlag);\n\t\t\telement.style.backgroundImage = 'url(\"' + setValue + '\")';\n\t\t}\n\t};\n\n\tvar setSourcesFunctions = {\n\t\tIMG: setSourcesImg,\n\t\tIFRAME: setSourcesIframe,\n\t\tVIDEO: setSourcesVideo\n\t};\n\n\tvar setSources = function setSources(element, settings) {\n\t\tvar tagName = element.tagName;\n\t\tvar setSourcesFunction = setSourcesFunctions[tagName];\n\t\tif (setSourcesFunction) {\n\t\t\tsetSourcesFunction(element, settings);\n\t\t\treturn;\n\t\t}\n\t\tsetSourcesBgImage(element, settings);\n\t};\n\n\tvar callbackIfSet = function callbackIfSet(callback, argument) {\n\t\tif (callback) {\n\t\t\tcallback(argument);\n\t\t}\n\t};\n\n\tvar genericLoadEventName = \"load\";\n\tvar mediaLoadEventName = \"loadeddata\";\n\tvar errorEventName = \"error\";\n\n\tvar addEventListener = function addEventListener(element, eventName, handler) {\n\t\telement.addEventListener(eventName, handler);\n\t};\n\n\tvar removeEventListener = function removeEventListener(element, eventName, handler) {\n\t\telement.removeEventListener(eventName, handler);\n\t};\n\n\tvar addAllEventListeners = function addAllEventListeners(element, loadHandler, errorHandler) {\n\t\taddEventListener(element, genericLoadEventName, loadHandler);\n\t\taddEventListener(element, mediaLoadEventName, loadHandler);\n\t\taddEventListener(element, errorEventName, errorHandler);\n\t};\n\n\tvar removeAllEventListeners = function removeAllEventListeners(element, loadHandler, errorHandler) {\n\t\tremoveEventListener(element, genericLoadEventName, loadHandler);\n\t\tremoveEventListener(element, mediaLoadEventName, loadHandler);\n\t\tremoveEventListener(element, errorEventName, errorHandler);\n\t};\n\n\tvar eventHandler = function eventHandler(event, success, settings) {\n\t\tvar className = success ? settings.class_loaded : settings.class_error;\n\t\tvar callback = success ? settings.callback_load : settings.callback_error;\n\t\tvar element = event.target;\n\n\t\tremoveClass(element, settings.class_loading);\n\t\taddClass(element, className);\n\t\tcallbackIfSet(callback, element);\n\t};\n\n\tvar addOneShotEventListeners = function addOneShotEventListeners(element, settings) {\n\t\tvar loadHandler = function loadHandler(event) {\n\t\t\teventHandler(event, true, settings);\n\t\t\tremoveAllEventListeners(element, loadHandler, errorHandler);\n\t\t};\n\t\tvar errorHandler = function errorHandler(event) {\n\t\t\teventHandler(event, false, settings);\n\t\t\tremoveAllEventListeners(element, loadHandler, errorHandler);\n\t\t};\n\t\taddAllEventListeners(element, loadHandler, errorHandler);\n\t};\n\n\tvar managedTags = [\"IMG\", \"IFRAME\", \"VIDEO\"];\n\n\tfunction revealElement(element, settings, force) {\n\t\tif (!force && getWasProcessedData(element)) {\n\t\t\treturn; // element has already been processed and force wasn't true\n\t\t}\n\t\tcallbackIfSet(settings.callback_enter, element);\n\t\tif (managedTags.indexOf(element.tagName) > -1) {\n\t\t\taddOneShotEventListeners(element, settings);\n\t\t\taddClass(element, settings.class_loading);\n\t\t}\n\t\tsetSources(element, settings);\n\t\tsetWasProcessedData(element);\n\t\tcallbackIfSet(settings.callback_set, element);\n\t}\n\n\tvar removeFromArray = function removeFromArray(elements, indexes) {\n\t\twhile (indexes.length) {\n\t\t\telements.splice(indexes.pop(), 1);\n\t\t}\n\t};\n\n\t/*\n  * Constructor\n  */\n\n\tvar LazyLoad = function LazyLoad(instanceSettings) {\n\t\tthis._settings = _extends({}, getDefaultSettings(), instanceSettings);\n\t\tthis._queryOriginNode = this._settings.container === window ? document : this._settings.container;\n\n\t\tthis._previousLoopTime = 0;\n\t\tthis._loopTimeout = null;\n\t\tthis._boundHandleScroll = this.handleScroll.bind(this);\n\n\t\tthis._isFirstLoop = true;\n\t\twindow.addEventListener(\"resize\", this._boundHandleScroll);\n\t\tthis.update();\n\t};\n\n\tLazyLoad.prototype = {\n\t\t_loopThroughElements: function _loopThroughElements(forceDownload) {\n\t\t\tvar settings = this._settings,\n\t\t\t    elements = this._elements,\n\t\t\t    elementsLength = !elements ? 0 : elements.length;\n\t\t\tvar i = void 0,\n\t\t\t    processedIndexes = [],\n\t\t\t    isFirstLoop = this._isFirstLoop;\n\n\t\t\tif (isFirstLoop) {\n\t\t\t\tthis._isFirstLoop = false;\n\t\t\t}\n\n\t\t\tif (elementsLength === 0) {\n\t\t\t\tthis._stopScrollHandler();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (i = 0; i < elementsLength; i++) {\n\t\t\t\tvar element = elements[i];\n\t\t\t\t/* If must skip_invisible and element is invisible, skip it */\n\t\t\t\tif (settings.skip_invisible && element.offsetParent === null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (isBot || forceDownload || isInsideViewport(element, settings.container, settings.threshold)) {\n\t\t\t\t\tif (isFirstLoop) {\n\t\t\t\t\t\taddClass(element, settings.class_initial);\n\t\t\t\t\t}\n\t\t\t\t\tthis.load(element);\n\t\t\t\t\tprocessedIndexes.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Removing processed elements from this._elements.\n\t\t\tremoveFromArray(elements, processedIndexes);\n\t\t},\n\n\t\t_purgeElements: function _purgeElements() {\n\t\t\tvar elements = this._elements,\n\t\t\t    elementsLength = elements.length;\n\t\t\tvar i = void 0,\n\t\t\t    processedIndexes = [];\n\n\t\t\tfor (i = 0; i < elementsLength; i++) {\n\t\t\t\tif (getWasProcessedData(elements[i])) {\n\t\t\t\t\tprocessedIndexes.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremoveFromArray(elements, processedIndexes);\n\t\t},\n\n\t\t_startScrollHandler: function _startScrollHandler() {\n\t\t\tif (!this._isHandlingScroll) {\n\t\t\t\tthis._isHandlingScroll = true;\n\t\t\t\tthis._settings.container.addEventListener(\"scroll\", this._boundHandleScroll);\n\t\t\t}\n\t\t},\n\n\t\t_stopScrollHandler: function _stopScrollHandler() {\n\t\t\tif (this._isHandlingScroll) {\n\t\t\t\tthis._isHandlingScroll = false;\n\t\t\t\tthis._settings.container.removeEventListener(\"scroll\", this._boundHandleScroll);\n\t\t\t}\n\t\t},\n\n\t\thandleScroll: function handleScroll() {\n\t\t\tvar throttle = this._settings.throttle;\n\n\t\t\tif (throttle !== 0) {\n\t\t\t\tvar now = Date.now();\n\t\t\t\tvar remainingTime = throttle - (now - this._previousLoopTime);\n\t\t\t\tif (remainingTime <= 0 || remainingTime > throttle) {\n\t\t\t\t\tif (this._loopTimeout) {\n\t\t\t\t\t\tclearTimeout(this._loopTimeout);\n\t\t\t\t\t\tthis._loopTimeout = null;\n\t\t\t\t\t}\n\t\t\t\t\tthis._previousLoopTime = now;\n\t\t\t\t\tthis._loopThroughElements();\n\t\t\t\t} else if (!this._loopTimeout) {\n\t\t\t\t\tthis._loopTimeout = setTimeout(function () {\n\t\t\t\t\t\tthis._previousLoopTime = Date.now();\n\t\t\t\t\t\tthis._loopTimeout = null;\n\t\t\t\t\t\tthis._loopThroughElements();\n\t\t\t\t\t}.bind(this), remainingTime);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._loopThroughElements();\n\t\t\t}\n\t\t},\n\n\t\tloadAll: function loadAll() {\n\t\t\tthis._loopThroughElements(true);\n\t\t},\n\n\t\tupdate: function update() {\n\t\t\t// Converts to array the nodeset obtained querying the DOM from _queryOriginNode with elements_selector\n\t\t\tthis._elements = Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector));\n\t\t\tthis._purgeElements();\n\t\t\tthis._loopThroughElements();\n\t\t\tthis._startScrollHandler();\n\t\t},\n\n\t\tdestroy: function destroy() {\n\t\t\twindow.removeEventListener(\"resize\", this._boundHandleScroll);\n\t\t\tif (this._loopTimeout) {\n\t\t\t\tclearTimeout(this._loopTimeout);\n\t\t\t\tthis._loopTimeout = null;\n\t\t\t}\n\t\t\tthis._stopScrollHandler();\n\t\t\tthis._elements = null;\n\t\t\tthis._queryOriginNode = null;\n\t\t\tthis._settings = null;\n\t\t},\n\n\t\tload: function load(element, force) {\n\t\t\trevealElement(element, this._settings, force);\n\t\t}\n\t};\n\n\t/* Automatic instances creation if required (useful for async script loading) */\n\tif (runningOnBrowser) {\n\t\tautoInitialize(LazyLoad, window.lazyLoadOptions);\n\t}\n\n\treturn LazyLoad;\n});","var workTitles = document.querySelectorAll('.work-titles li');\nvar workContent = document.querySelectorAll('.work-content li');\n\nfunction index(item, collection) {\n\treturn [].slice.call(document.querySelectorAll(collection)).indexOf(item);\n}\n\n[].forEach.call(workTitles, function(el) {\n  el.addEventListener('click', function(e) {\n    e.preventDefault();\n\t\tvar newIndex = index(el, '.work-titles li');\n\t\t[].forEach.call(workTitles, function(workTitleItem) {\n\t\t\tworkTitleItem.classList.remove('active');\n\t\t});\n\t\t[].forEach.call(workContent, function(workContentItem) {\n\t\t\tworkContentItem.classList.remove('active');\n\t\t});\n\t\tel.classList += 'active';\n\t\tworkContent[newIndex].classList += 'active';\n  });\n});\n"]}