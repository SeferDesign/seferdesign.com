{"version":3,"sources":["lazyload.js","main.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_typeof","Symbol","iterator","obj","constructor","global","factory","exports","module","define","amd","LazyLoad","this","getData","element","attribute","getAttribute","setWasProcessedData","value","attrName","setAttribute","removeAttribute","setData","getWasProcessedData","getTopOffset","getBoundingClientRect","top","window","pageYOffset","ownerDocument","documentElement","clientTop","isBelowViewport","container","threshold","innerHeight","offsetHeight","getLeftOffset","left","pageXOffset","clientLeft","isAtRightOfViewport","documentWidth","innerWidth","isAboveViewport","isAtLeftOfViewport","offsetWidth","isInsideViewport","createInstance","classObj","options","event","instance","CustomEvent","detail","err","document","createEvent","initCustomEvent","dispatchEvent","canvas","replaceExtToWebp","condition","replace","runningOnBrowser","isBot","test","navigator","userAgent","supportsClassList","createElement","supportsWebp","getContext","toDataURL","indexOf","addClass","className","classList","add","setSourcesInChildren","parentTag","dataAttrName","toWebpFlag","childTag","children","tagName","attrValue","setAttributeIfValue","setSourcesFunctions","IMG","settings","to_webp","srcsetDataName","data_srcset","parent","parentNode","sizesDataValue","data_sizes","srcsetDataValue","srcDataValue","data_src","IFRAME","VIDEO","srcDataName","load","setSources","elements","elementToPurge","_settings","setSourcesFunction","_updateLoadingCount","_elements","filter","bgDataValue","data_bg","setValue","style","backgroundImage","_setValue","setSourcesBgImage","callbackIfSet","callback","argument","addEventListener","eventName","handler","removeEventListener","removeAllEventListeners","loadHandler","errorHandler","eventHandler","success","class_loaded","class_error","callback_load","callback_error","remove","RegExp","removeClass","class_loading","addOneShotEventListeners","addAllEventListeners","managedTags","instanceSettings","elements_selector","throttle","class_initial","skip_invisible","callback_set","callback_enter","callback_finish","_loadingCount","_queryOriginNode","_previousLoopTime","_loopTimeout","_boundHandleScroll","handleScroll","bind","_isFirstLoop","update","_loopThroughElements","forceDownload","elementsLength","processedIndexes","isFirstLoop","offsetParent","push","indexes","splice","pop","removeFromArray","_stopScrollHandler","_startScrollHandler","_isHandlingScroll","plusMinus","now","Date","remainingTime","clearTimeout","setTimeout","loadAll","nodeSet","querySelectorAll","purgeProcessedElements","Array","slice","destroy","force","revealElement","optionsItem","autoInitialize","lazyLoadOptions","workTitles","workContent","index","item","collection","forEach","el","e","preventDefault","newIndex","workTitleItem","workContentItem"],"mappings":"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","file":"scripts.min.js","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n\t(typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.LazyLoad = factory();\n})(this, function () {\n\t'use strict';\n\n\tvar getDefaultSettings = function getDefaultSettings() {\n\t\treturn {\n\t\t\telements_selector: \"img\",\n\t\t\tcontainer: window,\n\t\t\tthreshold: 300,\n\t\t\tthrottle: 150,\n\t\t\tdata_src: \"src\",\n\t\t\tdata_srcset: \"srcset\",\n\t\t\tdata_sizes: \"sizes\",\n\t\t\tdata_bg: \"bg\",\n\t\t\tclass_loading: \"loading\",\n\t\t\tclass_loaded: \"loaded\",\n\t\t\tclass_error: \"error\",\n\t\t\tclass_initial: \"initial\",\n\t\t\tskip_invisible: true,\n\t\t\tcallback_load: null,\n\t\t\tcallback_error: null,\n\t\t\tcallback_set: null,\n\t\t\tcallback_enter: null,\n\t\t\tcallback_finish: null,\n\t\t\tto_webp: false\n\t\t};\n\t};\n\n\tvar dataPrefix = \"data-\";\n\tvar processedDataName = \"was-processed\";\n\tvar processedDataValue = \"true\";\n\n\tvar getData = function getData(element, attribute) {\n\t\treturn element.getAttribute(dataPrefix + attribute);\n\t};\n\n\tvar setData = function setData(element, attribute, value) {\n\t\tvar attrName = dataPrefix + attribute;\n\t\tif (value === null) {\n\t\t\telement.removeAttribute(attrName);\n\t\t\treturn;\n\t\t}\n\t\telement.setAttribute(attrName, value);\n\t};\n\n\tvar setWasProcessedData = function setWasProcessedData(element) {\n\t\treturn setData(element, processedDataName, processedDataValue);\n\t};\n\n\tvar getWasProcessedData = function getWasProcessedData(element) {\n\t\treturn getData(element, processedDataName) === processedDataValue;\n\t};\n\n\tvar purgeProcessedElements = function purgeProcessedElements(elements) {\n\t\treturn elements.filter(function (element) {\n\t\t\treturn !getWasProcessedData(element);\n\t\t});\n\t};\n\n\tvar purgeOneElement = function purgeOneElement(elements, elementToPurge) {\n\t\treturn elements.filter(function (element) {\n\t\t\treturn element !== elementToPurge;\n\t\t});\n\t};\n\n\tvar getTopOffset = function getTopOffset(element) {\n\t\treturn element.getBoundingClientRect().top + window.pageYOffset - element.ownerDocument.documentElement.clientTop;\n\t};\n\n\tvar isBelowViewport = function isBelowViewport(element, container, threshold) {\n\t\tvar fold = container === window ? window.innerHeight + window.pageYOffset : getTopOffset(container) + container.offsetHeight;\n\t\treturn fold <= getTopOffset(element) - threshold;\n\t};\n\n\tvar getLeftOffset = function getLeftOffset(element) {\n\t\treturn element.getBoundingClientRect().left + window.pageXOffset - element.ownerDocument.documentElement.clientLeft;\n\t};\n\n\tvar isAtRightOfViewport = function isAtRightOfViewport(element, container, threshold) {\n\t\tvar documentWidth = window.innerWidth;\n\t\tvar fold = container === window ? documentWidth + window.pageXOffset : getLeftOffset(container) + documentWidth;\n\t\treturn fold <= getLeftOffset(element) - threshold;\n\t};\n\n\tvar isAboveViewport = function isAboveViewport(element, container, threshold) {\n\t\tvar fold = container === window ? window.pageYOffset : getTopOffset(container);\n\t\treturn fold >= getTopOffset(element) + threshold + element.offsetHeight;\n\t};\n\n\tvar isAtLeftOfViewport = function isAtLeftOfViewport(element, container, threshold) {\n\t\tvar fold = container === window ? window.pageXOffset : getLeftOffset(container);\n\t\treturn fold >= getLeftOffset(element) + threshold + element.offsetWidth;\n\t};\n\n\tfunction isInsideViewport(element, container, threshold) {\n\t\treturn !isBelowViewport(element, container, threshold) && !isAboveViewport(element, container, threshold) && !isAtRightOfViewport(element, container, threshold) && !isAtLeftOfViewport(element, container, threshold);\n\t}\n\n\t/* Creates instance and notifies it through the window element */\n\tvar createInstance = function createInstance(classObj, options) {\n\t\tvar event;\n\t\tvar eventString = \"LazyLoad::Initialized\";\n\t\tvar instance = new classObj(options);\n\t\ttry {\n\t\t\t// Works in modern browsers\n\t\t\tevent = new CustomEvent(eventString, { detail: { instance: instance } });\n\t\t} catch (err) {\n\t\t\t// Works in Internet Explorer (all versions)\n\t\t\tevent = document.createEvent(\"CustomEvent\");\n\t\t\tevent.initCustomEvent(eventString, false, false, { instance: instance });\n\t\t}\n\t\twindow.dispatchEvent(event);\n\t};\n\n\t/* Auto initialization of one or more instances of lazyload, depending on the \n     options passed in (plain object or an array) */\n\tfunction autoInitialize(classObj, options) {\n\t\tif (!options) {\n\t\t\treturn;\n\t\t}\n\t\tif (!options.length) {\n\t\t\t// Plain object\n\t\t\tcreateInstance(classObj, options);\n\t\t} else {\n\t\t\t// Array of objects\n\t\t\tfor (var i = 0, optionsItem; optionsItem = options[i]; i += 1) {\n\t\t\t\tcreateInstance(classObj, optionsItem);\n\t\t\t}\n\t\t}\n\t}\n\n\tvar replaceExtToWebp = function replaceExtToWebp(value, condition) {\n\t\treturn condition ? value.replace(/\\.(jpe?g|png)/gi, \".webp\") : value;\n\t};\n\n\tvar detectWebp = function detectWebp() {\n\t\tvar webpString = \"image/webp\";\n\t\tvar canvas = document.createElement(\"canvas\");\n\n\t\tif (canvas.getContext && canvas.getContext(\"2d\")) {\n\t\t\treturn canvas.toDataURL(webpString).indexOf('data:' + webpString) === 0;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tvar runningOnBrowser = typeof window !== \"undefined\";\n\n\tvar isBot = runningOnBrowser && !(\"onscroll\" in window) || /(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent);\n\tvar supportsClassList = runningOnBrowser && \"classList\" in document.createElement(\"p\");\n\n\tvar supportsWebp = runningOnBrowser && detectWebp();\n\n\tvar addClass = function addClass(element, className) {\n\t\tif (supportsClassList) {\n\t\t\telement.classList.add(className);\n\t\t\treturn;\n\t\t}\n\t\telement.className += (element.className ? \" \" : \"\") + className;\n\t};\n\n\tvar removeClass = function removeClass(element, className) {\n\t\tif (supportsClassList) {\n\t\t\telement.classList.remove(className);\n\t\t\treturn;\n\t\t}\n\t\telement.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n\t};\n\n\tvar setSourcesInChildren = function setSourcesInChildren(parentTag, attrName, dataAttrName, toWebpFlag) {\n\t\tfor (var i = 0, childTag; childTag = parentTag.children[i]; i += 1) {\n\t\t\tif (childTag.tagName === \"SOURCE\") {\n\t\t\t\tvar attrValue = getData(childTag, dataAttrName);\n\t\t\t\tsetAttributeIfValue(childTag, attrName, attrValue, toWebpFlag);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar setAttributeIfValue = function setAttributeIfValue(element, attrName, value, toWebpFlag) {\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\t\telement.setAttribute(attrName, replaceExtToWebp(value, toWebpFlag));\n\t};\n\n\tvar setSourcesImg = function setSourcesImg(element, settings) {\n\t\tvar toWebpFlag = supportsWebp && settings.to_webp;\n\t\tvar srcsetDataName = settings.data_srcset;\n\t\tvar parent = element.parentNode;\n\n\t\tif (parent && parent.tagName === \"PICTURE\") {\n\t\t\tsetSourcesInChildren(parent, \"srcset\", srcsetDataName, toWebpFlag);\n\t\t}\n\t\tvar sizesDataValue = getData(element, settings.data_sizes);\n\t\tsetAttributeIfValue(element, \"sizes\", sizesDataValue);\n\t\tvar srcsetDataValue = getData(element, srcsetDataName);\n\t\tsetAttributeIfValue(element, \"srcset\", srcsetDataValue, toWebpFlag);\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue, toWebpFlag);\n\t};\n\n\tvar setSourcesIframe = function setSourcesIframe(element, settings) {\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue);\n\t};\n\n\tvar setSourcesVideo = function setSourcesVideo(element, settings) {\n\t\tvar srcDataName = settings.data_src;\n\t\tvar srcDataValue = getData(element, srcDataName);\n\n\t\tsetSourcesInChildren(element, \"src\", srcDataName);\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue);\n\t\telement.load();\n\t};\n\n\tvar setSourcesBgImage = function setSourcesBgImage(element, settings) {\n\t\tvar toWebpFlag = supportsWebp && settings.to_webp;\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\t\tvar bgDataValue = getData(element, settings.data_bg);\n\n\t\tif (srcDataValue) {\n\t\t\tvar setValue = replaceExtToWebp(srcDataValue, toWebpFlag);\n\t\t\telement.style.backgroundImage = 'url(\"' + setValue + '\")';\n\t\t}\n\n\t\tif (bgDataValue) {\n\t\t\tvar _setValue = replaceExtToWebp(bgDataValue, toWebpFlag);\n\t\t\telement.style.backgroundImage = _setValue;\n\t\t}\n\t};\n\n\tvar setSourcesFunctions = {\n\t\tIMG: setSourcesImg,\n\t\tIFRAME: setSourcesIframe,\n\t\tVIDEO: setSourcesVideo\n\t};\n\n\tvar setSources = function setSources(element, instance) {\n\t\tvar settings = instance._settings;\n\t\tvar tagName = element.tagName;\n\t\tvar setSourcesFunction = setSourcesFunctions[tagName];\n\t\tif (setSourcesFunction) {\n\t\t\tsetSourcesFunction(element, settings);\n\t\t\tinstance._updateLoadingCount(1);\n\t\t\tinstance._elements = purgeOneElement(instance._elements, element);\n\t\t\treturn;\n\t\t}\n\t\tsetSourcesBgImage(element, settings);\n\t};\n\n\tvar callbackIfSet = function callbackIfSet(callback, argument) {\n\t\tif (callback) {\n\t\t\tcallback(argument);\n\t\t}\n\t};\n\n\tvar genericLoadEventName = \"load\";\n\tvar mediaLoadEventName = \"loadeddata\";\n\tvar errorEventName = \"error\";\n\n\tvar addEventListener = function addEventListener(element, eventName, handler) {\n\t\telement.addEventListener(eventName, handler);\n\t};\n\n\tvar removeEventListener = function removeEventListener(element, eventName, handler) {\n\t\telement.removeEventListener(eventName, handler);\n\t};\n\n\tvar addAllEventListeners = function addAllEventListeners(element, loadHandler, errorHandler) {\n\t\taddEventListener(element, genericLoadEventName, loadHandler);\n\t\taddEventListener(element, mediaLoadEventName, loadHandler);\n\t\taddEventListener(element, errorEventName, errorHandler);\n\t};\n\n\tvar removeAllEventListeners = function removeAllEventListeners(element, loadHandler, errorHandler) {\n\t\tremoveEventListener(element, genericLoadEventName, loadHandler);\n\t\tremoveEventListener(element, mediaLoadEventName, loadHandler);\n\t\tremoveEventListener(element, errorEventName, errorHandler);\n\t};\n\n\tvar eventHandler = function eventHandler(event, success, instance) {\n\t\tvar settings = instance._settings;\n\t\tvar className = success ? settings.class_loaded : settings.class_error;\n\t\tvar callback = success ? settings.callback_load : settings.callback_error;\n\t\tvar element = event.target;\n\n\t\tremoveClass(element, settings.class_loading);\n\t\taddClass(element, className);\n\t\tcallbackIfSet(callback, element);\n\n\t\tinstance._updateLoadingCount(-1);\n\t};\n\n\tvar addOneShotEventListeners = function addOneShotEventListeners(element, instance) {\n\t\tvar loadHandler = function loadHandler(event) {\n\t\t\teventHandler(event, true, instance);\n\t\t\tremoveAllEventListeners(element, loadHandler, errorHandler);\n\t\t};\n\t\tvar errorHandler = function errorHandler(event) {\n\t\t\teventHandler(event, false, instance);\n\t\t\tremoveAllEventListeners(element, loadHandler, errorHandler);\n\t\t};\n\t\taddAllEventListeners(element, loadHandler, errorHandler);\n\t};\n\n\tvar managedTags = [\"IMG\", \"IFRAME\", \"VIDEO\"];\n\n\tfunction revealElement(element, instance, force) {\n\t\tvar settings = instance._settings;\n\t\tif (!force && getWasProcessedData(element)) {\n\t\t\treturn; // element has already been processed and force wasn't true\n\t\t}\n\t\tcallbackIfSet(settings.callback_enter, element);\n\t\tif (managedTags.indexOf(element.tagName) > -1) {\n\t\t\taddOneShotEventListeners(element, instance);\n\t\t\taddClass(element, settings.class_loading);\n\t\t}\n\t\tsetSources(element, instance);\n\t\tsetWasProcessedData(element);\n\t\tcallbackIfSet(settings.callback_set, element);\n\t}\n\n\tvar removeFromArray = function removeFromArray(elements, indexes) {\n\t\twhile (indexes.length) {\n\t\t\telements.splice(indexes.pop(), 1);\n\t\t}\n\t};\n\n\t/*\n  * Constructor\n  */\n\n\tvar LazyLoad = function LazyLoad(instanceSettings) {\n\t\tthis._settings = _extends({}, getDefaultSettings(), instanceSettings);\n\t\tthis._loadingCount = 0;\n\t\tthis._queryOriginNode = this._settings.container === window ? document : this._settings.container;\n\n\t\tthis._previousLoopTime = 0;\n\t\tthis._loopTimeout = null;\n\t\tthis._boundHandleScroll = this.handleScroll.bind(this);\n\n\t\tthis._isFirstLoop = true;\n\t\twindow.addEventListener(\"resize\", this._boundHandleScroll);\n\t\tthis.update();\n\t};\n\n\tLazyLoad.prototype = {\n\t\t_loopThroughElements: function _loopThroughElements(forceDownload) {\n\t\t\tvar settings = this._settings,\n\t\t\t    elements = this._elements,\n\t\t\t    elementsLength = !elements ? 0 : elements.length;\n\t\t\tvar i = void 0,\n\t\t\t    processedIndexes = [],\n\t\t\t    isFirstLoop = this._isFirstLoop;\n\n\t\t\tif (isFirstLoop) {\n\t\t\t\tthis._isFirstLoop = false;\n\t\t\t}\n\n\t\t\tif (elementsLength === 0) {\n\t\t\t\tthis._stopScrollHandler();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (i = 0; i < elementsLength; i++) {\n\t\t\t\tvar element = elements[i];\n\t\t\t\t/* If must skip_invisible and element is invisible, skip it */\n\t\t\t\tif (settings.skip_invisible && element.offsetParent === null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (forceDownload || isInsideViewport(element, settings.container, settings.threshold)) {\n\t\t\t\t\tif (isFirstLoop) {\n\t\t\t\t\t\taddClass(element, settings.class_initial);\n\t\t\t\t\t}\n\t\t\t\t\tthis.load(element);\n\t\t\t\t\tprocessedIndexes.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Removing processed elements from this._elements.\n\t\t\tremoveFromArray(elements, processedIndexes);\n\t\t},\n\n\t\t_startScrollHandler: function _startScrollHandler() {\n\t\t\tif (!this._isHandlingScroll) {\n\t\t\t\tthis._isHandlingScroll = true;\n\t\t\t\tthis._settings.container.addEventListener(\"scroll\", this._boundHandleScroll);\n\t\t\t}\n\t\t},\n\n\t\t_stopScrollHandler: function _stopScrollHandler() {\n\t\t\tif (this._isHandlingScroll) {\n\t\t\t\tthis._isHandlingScroll = false;\n\t\t\t\tthis._settings.container.removeEventListener(\"scroll\", this._boundHandleScroll);\n\t\t\t}\n\t\t},\n\n\t\t_updateLoadingCount: function _updateLoadingCount(plusMinus) {\n\t\t\tthis._loadingCount += plusMinus;\n\t\t\tif (this._elements.length === 0 && this._loadingCount === 0) {\n\t\t\t\tcallbackIfSet(this._settings.callback_finish);\n\t\t\t}\n\t\t},\n\n\t\thandleScroll: function handleScroll() {\n\t\t\tvar throttle = this._settings.throttle;\n\n\t\t\tif (throttle !== 0) {\n\t\t\t\tvar now = Date.now();\n\t\t\t\tvar remainingTime = throttle - (now - this._previousLoopTime);\n\t\t\t\tif (remainingTime <= 0 || remainingTime > throttle) {\n\t\t\t\t\tif (this._loopTimeout) {\n\t\t\t\t\t\tclearTimeout(this._loopTimeout);\n\t\t\t\t\t\tthis._loopTimeout = null;\n\t\t\t\t\t}\n\t\t\t\t\tthis._previousLoopTime = now;\n\t\t\t\t\tthis._loopThroughElements();\n\t\t\t\t} else if (!this._loopTimeout) {\n\t\t\t\t\tthis._loopTimeout = setTimeout(function () {\n\t\t\t\t\t\tthis._previousLoopTime = Date.now();\n\t\t\t\t\t\tthis._loopTimeout = null;\n\t\t\t\t\t\tthis._loopThroughElements();\n\t\t\t\t\t}.bind(this), remainingTime);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._loopThroughElements();\n\t\t\t}\n\t\t},\n\n\t\tloadAll: function loadAll() {\n\t\t\tthis._loopThroughElements(true);\n\t\t},\n\n\t\tupdate: function update(elements) {\n\t\t\tvar settings = this._settings;\n\t\t\tvar nodeSet = elements || this._queryOriginNode.querySelectorAll(settings.elements_selector);\n\n\t\t\tthis._elements = purgeProcessedElements(Array.prototype.slice.call(nodeSet) // NOTE: nodeset to array for IE compatibility\n\t\t\t);\n\n\t\t\tif (isBot) {\n\t\t\t\tthis.loadAll();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._loopThroughElements();\n\t\t\tthis._startScrollHandler();\n\t\t},\n\n\t\tdestroy: function destroy() {\n\t\t\twindow.removeEventListener(\"resize\", this._boundHandleScroll);\n\t\t\tif (this._loopTimeout) {\n\t\t\t\tclearTimeout(this._loopTimeout);\n\t\t\t\tthis._loopTimeout = null;\n\t\t\t}\n\t\t\tthis._stopScrollHandler();\n\t\t\tthis._elements = null;\n\t\t\tthis._queryOriginNode = null;\n\t\t\tthis._settings = null;\n\t\t},\n\n\t\tload: function load(element, force) {\n\t\t\trevealElement(element, this, force);\n\t\t}\n\t};\n\n\t/* Automatic instances creation if required (useful for async script loading) */\n\tif (runningOnBrowser) {\n\t\tautoInitialize(LazyLoad, window.lazyLoadOptions);\n\t}\n\n\treturn LazyLoad;\n});","var workTitles = document.querySelectorAll('.work-titles li');\nvar workContent = document.querySelectorAll('.work-content li');\n\nfunction index(item, collection) {\n\treturn [].slice.call(document.querySelectorAll(collection)).indexOf(item);\n}\n\n[].forEach.call(workTitles, function(el) {\n  el.addEventListener('click', function(e) {\n    e.preventDefault();\n\t\tvar newIndex = index(el, '.work-titles li');\n\t\t[].forEach.call(workTitles, function(workTitleItem) {\n\t\t\tworkTitleItem.classList.remove('active');\n\t\t});\n\t\t[].forEach.call(workContent, function(workContentItem) {\n\t\t\tworkContentItem.classList.remove('active');\n\t\t});\n\t\tel.classList += 'active';\n\t\tworkContent[newIndex].classList += 'active';\n  });\n});\n"]}