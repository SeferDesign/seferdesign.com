@use "sass:math";
@use "mixins";
@use "variables";

nav {

	display: flex;
	flex-flow: row wrap;
	justify-content: flex-start;
	align-items: center;
	gap: 0.5rem;
	padding: 1rem;
	color: var(--color-white);
	font-size: 1rem;

	@include mixins.mq('desktop') {
		padding: 2rem;
		height: calc(100 * var(--vh));
		font-size: 1.5rem;
	}

	@include mixins.mq(variables.$screen-md) {
		font-size: 2rem;
	}

	.logo {

		font-size: 1rem;

		@include mixins.mq('desktop') {
			font-size: 1em;
		}

	}

	.nav-main-toggle {

		$toggle-width: 1.75rem;
		$toggle-height: 1.25rem;
		$toggle-inner-height: 0.15rem;

		margin-left: auto;
		display: block;
		z-index: 12;
		width: $toggle-width;
		height: $toggle-height;
		transition: {
			property: opacity, filter;
			duration: 150ms;
			timing-function: linear;
		}

		&:hover {
			opacity: 0.7;
			cursor: pointer;
		}

		@include mixins.mq('desktop') {
			display: none;
		}

		.nav-expanded & {

			.nav-main-toggle-inner {

				top: calc(50% - #{$toggle-inner-height * 0.4});
				transform: rotate(45deg);
				transition: {
					delay: 120ms;
					timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
				}

				// &,
				// &:before,
				// &:after {
				// 	background-color: $white;
				// }

				&:before {
					top: 0px;
					opacity: 0;
					transition: top 75ms ease, opacity 75ms 120ms ease;
				}

				&:after {
					bottom: 0px;
					transform: rotate(-90deg);
					transition: bottom 75ms ease, transform 75ms 120ms cubic-bezier(0.215, 0.61, 0.355, 1);
				}

			}

		}

		&-box {
			display: inline-block;
			position: relative;
			width: $toggle-width;
			height: $toggle-height;
		}

		&-inner {

			display: block;
			top: calc(50% - #{$toggle-inner-height * 1.2});
			transform: translate(0px, -50%);
			transition: {
				duration: 75ms;
				timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
			}

			&,
			&:before,
			&:after {
				position: absolute;
				width: $toggle-width;
				height: $toggle-inner-height;
				background-color: var(--color-white);
				transition: {
					property: transform;
					duration: 150ms;
					timing-function: ease;
				}
			}

			&:before,
			&:after {
				content: '';
				display: block;
			}

			&:before {
				display: none;
			}

			&:before {
				top: #{$toggle-height * math.div(10, 24) * -1};
				transition: top 75ms 120ms ease, opacity 75ms ease;
			}

			&:after {
				bottom: #{$toggle-height * -0.5};
				transition: bottom 75ms 120ms ease, transform 75ms cubic-bezier(0.55, 0.055, 0.675, 0.19);
			}

		}

	}

	a {
		color: currentColor;
	}

	.main-menu {

		flex-basis:	100%;
		display: none;
		list-style-type: none;
		margin: 0px;
		padding: 0px;

		.nav-expanded & {
			display: block;
		}

		@include mixins.mq('desktop') {
			display: block;
		}

	}

}
