{"version":3,"sources":["lazyload.js","main.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_typeof","Symbol","iterator","obj","constructor","global","factory","exports","module","define","amd","LazyLoad","this","callCallback","callback","argument","getTopOffset","element","getBoundingClientRect","top","window","pageYOffset","ownerDocument","documentElement","clientTop","isBelowViewport","container","threshold","innerHeight","offsetHeight","getLeftOffset","left","pageXOffset","clientLeft","isAtRightOfViewport","documentWidth","innerWidth","isAboveViewport","isAtLeftOfViewport","offsetWidth","isInsideViewport","createInstance","classObj","options","event","instance","CustomEvent","detail","err","document","createEvent","initCustomEvent","dispatchEvent","canvas","getData","attribute","getAttribute","setWasProcessed","value","setAttribute","setData","getWasProcessed","replaceExtToWebp","condition","replace","runningOnBrowser","isBot","test","navigator","userAgent","supportsClassList","createElement","supportsWebp","getContext","toDataURL","indexOf","setSourcesInChildren","parentTag","attrName","dataAttrName","toWebpFlag","childTag","children","tagName","attrValue","setAttributeIfValue","setSourcesFunctions","IMG","settings","to_webp","srcsetDataName","data_srcset","parent","parentNode","sizesDataValue","data_sizes","srcsetDataValue","srcDataValue","data_src","IFRAME","VIDEO","srcDataName","load","setSources","setSourcesFunction","setValue","style","backgroundImage","setSourcesBgImage","addClass","className","classList","add","removeClass","remove","RegExp","instanceSettings","_settings","elements_selector","throttle","class_loading","class_loaded","class_error","class_initial","skip_invisible","callback_load","callback_error","callback_set","callback_processed","callback_enter","_queryOriginNode","_previousLoopTime","_loopTimeout","_boundHandleScroll","handleScroll","bind","_isFirstLoop","addEventListener","update","_reveal","force","errorCallback","removeEventListener","loadCallback","_loopThroughElements","forceDownload","elements","_elements","elementsLength","processedIndexes","firstLoop","offsetParent","push","splice","pop","_stopScrollHandler","_purgeElements","elementsToPurge","_startScrollHandler","_isHandlingScroll","now","Date","remainingTime","clearTimeout","setTimeout","loadAll","Array","slice","querySelectorAll","destroy","optionsItem","autoInitialize","lazyLoadOptions","workTitles","workContent","index","item","collection","forEach","el","e","preventDefault","newIndex","workTitleItem","workContentItem"],"mappings":"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","file":"scripts.min.js","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n\t(typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.LazyLoad = factory();\n})(this, function () {\n\t'use strict';\n\n\tvar getDefaultSettings = function getDefaultSettings() {\n\t\treturn {\n\t\t\telements_selector: \"img\",\n\t\t\tcontainer: window,\n\t\t\tthreshold: 300,\n\t\t\tthrottle: 150,\n\t\t\tdata_src: \"src\",\n\t\t\tdata_srcset: \"srcset\",\n\t\t\tdata_sizes: \"sizes\",\n\t\t\tclass_loading: \"loading\",\n\t\t\tclass_loaded: \"loaded\",\n\t\t\tclass_error: \"error\",\n\t\t\tclass_initial: \"initial\",\n\t\t\tskip_invisible: true,\n\t\t\tcallback_load: null,\n\t\t\tcallback_error: null,\n\t\t\tcallback_set: null,\n\t\t\tcallback_processed: null,\n\t\t\tcallback_enter: null,\n\t\t\tto_webp: false\n\t\t};\n\t};\n\n\tvar callCallback = function callCallback(callback, argument) {\n\t\tif (callback) {\n\t\t\tcallback(argument);\n\t\t}\n\t};\n\n\tvar getTopOffset = function getTopOffset(element) {\n\t\treturn element.getBoundingClientRect().top + window.pageYOffset - element.ownerDocument.documentElement.clientTop;\n\t};\n\n\tvar isBelowViewport = function isBelowViewport(element, container, threshold) {\n\t\tvar fold = container === window ? window.innerHeight + window.pageYOffset : getTopOffset(container) + container.offsetHeight;\n\t\treturn fold <= getTopOffset(element) - threshold;\n\t};\n\n\tvar getLeftOffset = function getLeftOffset(element) {\n\t\treturn element.getBoundingClientRect().left + window.pageXOffset - element.ownerDocument.documentElement.clientLeft;\n\t};\n\n\tvar isAtRightOfViewport = function isAtRightOfViewport(element, container, threshold) {\n\t\tvar documentWidth = window.innerWidth;\n\t\tvar fold = container === window ? documentWidth + window.pageXOffset : getLeftOffset(container) + documentWidth;\n\t\treturn fold <= getLeftOffset(element) - threshold;\n\t};\n\n\tvar isAboveViewport = function isAboveViewport(element, container, threshold) {\n\t\tvar fold = container === window ? window.pageYOffset : getTopOffset(container);\n\t\treturn fold >= getTopOffset(element) + threshold + element.offsetHeight;\n\t};\n\n\tvar isAtLeftOfViewport = function isAtLeftOfViewport(element, container, threshold) {\n\t\tvar fold = container === window ? window.pageXOffset : getLeftOffset(container);\n\t\treturn fold >= getLeftOffset(element) + threshold + element.offsetWidth;\n\t};\n\n\tfunction isInsideViewport(element, container, threshold) {\n\t\treturn !isBelowViewport(element, container, threshold) && !isAboveViewport(element, container, threshold) && !isAtRightOfViewport(element, container, threshold) && !isAtLeftOfViewport(element, container, threshold);\n\t}\n\n\t/* Creates instance and notifies it through the window element */\n\tvar createInstance = function createInstance(classObj, options) {\n\t\tvar event;\n\t\tvar eventString = \"LazyLoad::Initialized\";\n\t\tvar instance = new classObj(options);\n\t\ttry {\n\t\t\t// Works in modern browsers\n\t\t\tevent = new CustomEvent(eventString, { detail: { instance: instance } });\n\t\t} catch (err) {\n\t\t\t// Works in Internet Explorer (all versions)\n\t\t\tevent = document.createEvent(\"CustomEvent\");\n\t\t\tevent.initCustomEvent(eventString, false, false, { instance: instance });\n\t\t}\n\t\twindow.dispatchEvent(event);\n\t};\n\n\t/* Auto initialization of one or more instances of lazyload, depending on the \n     options passed in (plain object or an array) */\n\tfunction autoInitialize(classObj, options) {\n\t\tif (!options) {\n\t\t\treturn;\n\t\t}\n\t\tif (!options.length) {\n\t\t\t// Plain object\n\t\t\tcreateInstance(classObj, options);\n\t\t} else {\n\t\t\t// Array of objects\n\t\t\tfor (var i = 0, optionsItem; optionsItem = options[i]; i += 1) {\n\t\t\t\tcreateInstance(classObj, optionsItem);\n\t\t\t}\n\t\t}\n\t}\n\n\tvar dataPrefix = \"data-\";\n\tvar processedDataName = \"was-processed\";\n\tvar processedDataValue = \"true\";\n\n\tvar getData = function getData(element, attribute) {\n\t\treturn element.getAttribute(dataPrefix + attribute);\n\t};\n\n\tvar setData = function setData(element, attribute, value) {\n\t\treturn element.setAttribute(dataPrefix + attribute, value);\n\t};\n\n\tvar setWasProcessed = function setWasProcessed(element) {\n\t\treturn setData(element, processedDataName, processedDataValue);\n\t};\n\n\tvar getWasProcessed = function getWasProcessed(element) {\n\t\treturn getData(element, processedDataName) === processedDataValue;\n\t};\n\n\tvar replaceExtToWebp = function replaceExtToWebp(value, condition) {\n\t\treturn condition ? value.replace(/\\.(jpe?g|png)/gi, \".webp\") : value;\n\t};\n\n\tvar detectWebp = function detectWebp() {\n\t\tvar webpString = \"image/webp\";\n\t\tvar canvas = document.createElement(\"canvas\");\n\n\t\tif (canvas.getContext && canvas.getContext(\"2d\")) {\n\t\t\treturn canvas.toDataURL(webpString).indexOf('data:' + webpString) === 0;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tvar runningOnBrowser = typeof window !== \"undefined\";\n\n\tvar isBot = runningOnBrowser && !(\"onscroll\" in window) || /(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent);\n\tvar supportsClassList = runningOnBrowser && \"classList\" in document.createElement(\"p\");\n\n\tvar supportsWebp = runningOnBrowser && detectWebp();\n\n\tvar setSourcesInChildren = function setSourcesInChildren(parentTag, attrName, dataAttrName, toWebpFlag) {\n\t\tfor (var i = 0, childTag; childTag = parentTag.children[i]; i += 1) {\n\t\t\tif (childTag.tagName === \"SOURCE\") {\n\t\t\t\tvar attrValue = getData(childTag, dataAttrName);\n\t\t\t\tsetAttributeIfValue(childTag, attrName, attrValue, toWebpFlag);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar setAttributeIfValue = function setAttributeIfValue(element, attrName, value, toWebpFlag) {\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\t\telement.setAttribute(attrName, replaceExtToWebp(value, toWebpFlag));\n\t};\n\n\tvar setSourcesImg = function setSourcesImg(element, settings) {\n\t\tvar toWebpFlag = supportsWebp && settings.to_webp;\n\t\tvar srcsetDataName = settings.data_srcset;\n\t\tvar parent = element.parentNode;\n\n\t\tif (parent && parent.tagName === \"PICTURE\") {\n\t\t\tsetSourcesInChildren(parent, \"srcset\", srcsetDataName, toWebpFlag);\n\t\t}\n\t\tvar sizesDataValue = getData(element, settings.data_sizes);\n\t\tsetAttributeIfValue(element, \"sizes\", sizesDataValue);\n\t\tvar srcsetDataValue = getData(element, srcsetDataName);\n\t\tsetAttributeIfValue(element, \"srcset\", srcsetDataValue, toWebpFlag);\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue, toWebpFlag);\n\t};\n\n\tvar setSourcesIframe = function setSourcesIframe(element, settings) {\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue);\n\t};\n\n\tvar setSourcesVideo = function setSourcesVideo(element, settings) {\n\t\tvar srcDataName = settings.data_src;\n\t\tvar srcDataValue = getData(element, srcDataName);\n\n\t\tsetSourcesInChildren(element, \"src\", srcDataName);\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue);\n\t\telement.load();\n\t};\n\n\tvar setSourcesBgImage = function setSourcesBgImage(element, settings) {\n\t\tvar toWebpFlag = supportsWebp && settings.to_webp;\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\n\t\tif (srcDataValue) {\n\t\t\tvar setValue = replaceExtToWebp(srcDataValue, toWebpFlag);\n\t\t\telement.style.backgroundImage = 'url(\"' + setValue + '\")';\n\t\t}\n\t};\n\n\tvar setSourcesFunctions = {\n\t\tIMG: setSourcesImg,\n\t\tIFRAME: setSourcesIframe,\n\t\tVIDEO: setSourcesVideo\n\t};\n\n\tvar setSources = function setSources(element, settings) {\n\t\tvar tagName = element.tagName;\n\t\tvar setSourcesFunction = setSourcesFunctions[tagName];\n\t\tif (setSourcesFunction) {\n\t\t\tsetSourcesFunction(element, settings);\n\t\t\treturn;\n\t\t}\n\t\tsetSourcesBgImage(element, settings);\n\t};\n\n\tvar addClass = function addClass(element, className) {\n\t\tif (supportsClassList) {\n\t\t\telement.classList.add(className);\n\t\t\treturn;\n\t\t}\n\t\telement.className += (element.className ? \" \" : \"\") + className;\n\t};\n\n\tvar removeClass = function removeClass(element, className) {\n\t\tif (supportsClassList) {\n\t\t\telement.classList.remove(className);\n\t\t\treturn;\n\t\t}\n\t\telement.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n\t};\n\n\t/*\n  * Constructor\n  */\n\n\tvar LazyLoad = function LazyLoad(instanceSettings) {\n\t\tthis._settings = _extends({}, getDefaultSettings(), instanceSettings);\n\t\tthis._queryOriginNode = this._settings.container === window ? document : this._settings.container;\n\n\t\tthis._previousLoopTime = 0;\n\t\tthis._loopTimeout = null;\n\t\tthis._boundHandleScroll = this.handleScroll.bind(this);\n\n\t\tthis._isFirstLoop = true;\n\t\twindow.addEventListener(\"resize\", this._boundHandleScroll);\n\t\tthis.update();\n\t};\n\n\tLazyLoad.prototype = {\n\t\t_reveal: function _reveal(element, force) {\n\t\t\tif (!force && getWasProcessed(element)) {\n\t\t\t\treturn; // element has already been processed and force wasn't true\n\t\t\t}\n\n\t\t\tvar settings = this._settings;\n\n\t\t\tvar errorCallback = function errorCallback() {\n\t\t\t\t/* As this method is asynchronous, it must be protected against external destroy() calls */\n\t\t\t\tif (!settings) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telement.removeEventListener(\"load\", loadCallback);\n\t\t\t\telement.removeEventListener(\"error\", errorCallback);\n\t\t\t\tremoveClass(element, settings.class_loading);\n\t\t\t\taddClass(element, settings.class_error);\n\t\t\t\tcallCallback(settings.callback_error, element);\n\t\t\t};\n\n\t\t\tvar loadCallback = function loadCallback() {\n\t\t\t\t/* As this method is asynchronous, it must be protected against external destroy() calls */\n\t\t\t\tif (!settings) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tremoveClass(element, settings.class_loading);\n\t\t\t\taddClass(element, settings.class_loaded);\n\t\t\t\telement.removeEventListener(\"load\", loadCallback);\n\t\t\t\telement.removeEventListener(\"error\", errorCallback);\n\t\t\t\tcallCallback(settings.callback_load, element);\n\t\t\t};\n\n\t\t\tcallCallback(settings.callback_enter, element);\n\t\t\tif ([\"IMG\", \"IFRAME\", \"VIDEO\"].indexOf(element.tagName) > -1) {\n\t\t\t\telement.addEventListener(\"load\", loadCallback);\n\t\t\t\telement.addEventListener(\"error\", errorCallback);\n\t\t\t\taddClass(element, settings.class_loading);\n\t\t\t}\n\t\t\tsetSources(element, settings);\n\t\t\tcallCallback(settings.callback_set, element);\n\t\t},\n\n\t\t_loopThroughElements: function _loopThroughElements(forceDownload) {\n\t\t\tvar settings = this._settings,\n\t\t\t    elements = this._elements,\n\t\t\t    elementsLength = !elements ? 0 : elements.length;\n\t\t\tvar i = void 0,\n\t\t\t    processedIndexes = [],\n\t\t\t    firstLoop = this._isFirstLoop;\n\n\t\t\tfor (i = 0; i < elementsLength; i++) {\n\t\t\t\tvar element = elements[i];\n\t\t\t\t/* If must skip_invisible and element is invisible, skip it */\n\t\t\t\tif (settings.skip_invisible && element.offsetParent === null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (isBot || forceDownload || isInsideViewport(element, settings.container, settings.threshold)) {\n\t\t\t\t\tif (firstLoop) {\n\t\t\t\t\t\taddClass(element, settings.class_initial);\n\t\t\t\t\t}\n\t\t\t\t\t/* Start loading the image */\n\t\t\t\t\tthis.load(element);\n\t\t\t\t\t/* Marking the element as processed. */\n\t\t\t\t\tprocessedIndexes.push(i);\n\t\t\t\t\tsetWasProcessed(element);\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* Removing processed elements from this._elements. */\n\t\t\twhile (processedIndexes.length) {\n\t\t\t\telements.splice(processedIndexes.pop(), 1);\n\t\t\t\tcallCallback(settings.callback_processed, elements.length);\n\t\t\t}\n\t\t\t/* Stop listening to scroll event when 0 elements remains */\n\t\t\tif (elementsLength === 0) {\n\t\t\t\tthis._stopScrollHandler();\n\t\t\t}\n\t\t\t/* Sets isFirstLoop to false */\n\t\t\tif (firstLoop) {\n\t\t\t\tthis._isFirstLoop = false;\n\t\t\t}\n\t\t},\n\n\t\t_purgeElements: function _purgeElements() {\n\t\t\tvar elements = this._elements,\n\t\t\t    elementsLength = elements.length;\n\t\t\tvar i = void 0,\n\t\t\t    elementsToPurge = [];\n\n\t\t\tfor (i = 0; i < elementsLength; i++) {\n\t\t\t\tvar element = elements[i];\n\t\t\t\t/* If the element has already been processed, skip it */\n\t\t\t\tif (getWasProcessed(element)) {\n\t\t\t\t\telementsToPurge.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* Removing elements to purge from this._elements. */\n\t\t\twhile (elementsToPurge.length > 0) {\n\t\t\t\telements.splice(elementsToPurge.pop(), 1);\n\t\t\t}\n\t\t},\n\n\t\t_startScrollHandler: function _startScrollHandler() {\n\t\t\tif (!this._isHandlingScroll) {\n\t\t\t\tthis._isHandlingScroll = true;\n\t\t\t\tthis._settings.container.addEventListener(\"scroll\", this._boundHandleScroll);\n\t\t\t}\n\t\t},\n\n\t\t_stopScrollHandler: function _stopScrollHandler() {\n\t\t\tif (this._isHandlingScroll) {\n\t\t\t\tthis._isHandlingScroll = false;\n\t\t\t\tthis._settings.container.removeEventListener(\"scroll\", this._boundHandleScroll);\n\t\t\t}\n\t\t},\n\n\t\thandleScroll: function handleScroll() {\n\t\t\tvar throttle = this._settings.throttle;\n\n\t\t\tif (throttle !== 0) {\n\t\t\t\tvar now = Date.now();\n\t\t\t\tvar remainingTime = throttle - (now - this._previousLoopTime);\n\t\t\t\tif (remainingTime <= 0 || remainingTime > throttle) {\n\t\t\t\t\tif (this._loopTimeout) {\n\t\t\t\t\t\tclearTimeout(this._loopTimeout);\n\t\t\t\t\t\tthis._loopTimeout = null;\n\t\t\t\t\t}\n\t\t\t\t\tthis._previousLoopTime = now;\n\t\t\t\t\tthis._loopThroughElements();\n\t\t\t\t} else if (!this._loopTimeout) {\n\t\t\t\t\tthis._loopTimeout = setTimeout(function () {\n\t\t\t\t\t\tthis._previousLoopTime = Date.now();\n\t\t\t\t\t\tthis._loopTimeout = null;\n\t\t\t\t\t\tthis._loopThroughElements();\n\t\t\t\t\t}.bind(this), remainingTime);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._loopThroughElements();\n\t\t\t}\n\t\t},\n\n\t\tloadAll: function loadAll() {\n\t\t\tthis._loopThroughElements(true);\n\t\t},\n\n\t\tupdate: function update() {\n\t\t\t// Converts to array the nodeset obtained querying the DOM from _queryOriginNode with elements_selector\n\t\t\tthis._elements = Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector));\n\t\t\tthis._purgeElements();\n\t\t\tthis._loopThroughElements();\n\t\t\tthis._startScrollHandler();\n\t\t},\n\n\t\tdestroy: function destroy() {\n\t\t\twindow.removeEventListener(\"resize\", this._boundHandleScroll);\n\t\t\tif (this._loopTimeout) {\n\t\t\t\tclearTimeout(this._loopTimeout);\n\t\t\t\tthis._loopTimeout = null;\n\t\t\t}\n\t\t\tthis._stopScrollHandler();\n\t\t\tthis._elements = null;\n\t\t\tthis._queryOriginNode = null;\n\t\t\tthis._settings = null;\n\t\t},\n\n\t\tload: function load(element, force) {\n\t\t\tthis._reveal(element, force);\n\t\t}\n\t};\n\n\t/* Automatic instances creation if required (useful for async script loading) */\n\tif (runningOnBrowser) {\n\t\tautoInitialize(LazyLoad, window.lazyLoadOptions);\n\t}\n\n\treturn LazyLoad;\n});","var workTitles = document.querySelectorAll('.work-titles li');\nvar workContent = document.querySelectorAll('.work-content li');\n\n[].forEach.call(workTitles, function(el) {\n  el.addEventListener('click', function(e) {\n    e.preventDefault();\n\t\tvar newIndex = index(el, '.work-titles li');\n\t\t[].forEach.call(workTitles, function(workTitleItem) {\n\t\t\tworkTitleItem.classList.remove('active');\n\t\t});\n\t\t[].forEach.call(workContent, function(workContentItem) {\n\t\t\tworkContentItem.classList.remove('active');\n\t\t});\n\t\tel.classList += 'active';\n\t\tworkContent[newIndex].classList += 'active';\n  });\n});\n\nfunction index(item, collection) {\n\treturn [].slice.call(document.querySelectorAll(collection)).indexOf(item);\n}\n"]}